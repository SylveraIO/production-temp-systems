<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <script>
      function submitInfo(){
        let code = document.getElementById("sylCode").value;
        let description = document.getElementById("description").value;
        let blockerType = document.getElementById("blockerType").value;
        let accountable = document.getElementById("accountable").value;
        let date = document.getElementById("date").value;
        //Add some validation here for the elements!
        google.script.run.recordBlockerData(code,blockerType,description,accountable,date);
        google.script.host.close();
      }
    </script>
  </head>
  <body>
    <h3>Recording blocker for project <?= sylCode ?></h3>
    <input type="hidden" id="sylCode" name="sylCode" value=<?= sylCode ?>>
    <div class="block form-group">
      <label for="blockerType">Please select the type of blocker</label>
      <select id="blockerType">
        <? for(var i=0; i<blockerList.length; i++){ ?>
          <option value=<?= blockerList[i] ?>>
          <?= blockerList[i] ?>
          </option>
        <? } ?>
      </select>
    </div>

    <div class="block form-group">
      <label for="description">Blocker description:</label>
      <textarea id="description" name="description" rows="4" cols="50">Please insert blocker information here</textarea>
    </div>

    <div class="block form-group">
      <label for="accountable">Please select the team who will monitor this blocker</label>
      <select id="accountable">
        <? for(var i=0; i<teamList.length; i++){ ?>
          <option value=<?= teamList[i] ?>>
          <?= teamList[i] ?>
          </option>
        <? } ?>
      </select>
    </div>

    <div class="block form-group">
      <label for="date">Please select the date for the next review</label>
      <input type="date" id="date" name="date">
    </div>
    <div class="block form-group">
      <button class="action" onClick="submitInfo()">Save</button>
      <button class="create" onClick="google.script.host.close()">Cancel</button>
    </div>
  </body>
</html>

<!-- CSS Reference: https://developers.google.com/apps-script/add-ons/guides/css -->
